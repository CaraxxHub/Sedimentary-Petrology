<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sedimentary Petrology | Interactive Learning Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500;600&family=Source+Sans+3:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6B4423;
            --primary-light: #8B5A2B;
            --primary-dark: #4A2F17;
            --secondary: #A0522D;
            --accent: #CD853F;
            --sand: #DEB887;
            --sandstone: #D2B48C;
            --cream: #FAF6F1;
            --warm-white: #FFFDF9;
            --text-primary: #2C1810;
            --text-secondary: #5C4033;
            --text-muted: #8B7355;
            --border: #E8DDD0;
            --gradient-hero: linear-gradient(135deg, #4A2F17 0%, #6B4423 40%, #8B5A2B 100%);
            --shadow-sm: 0 2px 8px rgba(74, 47, 23, 0.08);
            --shadow-md: 0 4px 20px rgba(74, 47, 23, 0.12);
            --shadow-lg: 0 8px 40px rgba(74, 47, 23, 0.15);
            --font-display: 'Crimson Pro', Georgia, serif;
            --font-body: 'Source Sans 3', -apple-system, sans-serif;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-body);
            background: var(--cream);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
        }

        /* LOGIN OVERLAY */
        .login-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #2C1810 0%, #4A2F17 50%, #6B4423 100%);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .login-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

        .login-container {
            background: var(--warm-white);
            border-radius: 16px;
            padding: 50px 45px;
            width: 100%;
            max-width: 440px;
            margin: 20px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-header { text-align: center; margin-bottom: 35px; }
        .login-icon { font-size: 3em; margin-bottom: 15px; display: block; }
        .login-header h1 {
            font-family: var(--font-display);
            font-size: 1.8em;
            font-weight: 500;
            color: var(--primary);
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }
        .login-header p { color: var(--text-secondary); font-size: 0.95em; }

        .login-form { display: flex; flex-direction: column; gap: 20px; }
        .form-group { display: flex; flex-direction: column; gap: 8px; }
        .form-group label { font-weight: 500; color: var(--text-secondary); font-size: 0.9em; }
        .form-group input {
            padding: 14px 18px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 1em;
            font-family: var(--font-body);
            transition: border-color 0.3s, box-shadow 0.3s;
            background: var(--warm-white);
        }
        .form-group input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(107, 68, 35, 0.1);
        }
        .form-group input::placeholder { color: var(--text-muted); }

        .login-btn {
            padding: 16px 24px;
            background: var(--gradient-hero);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.05em;
            font-weight: 600;
            font-family: var(--font-body);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.3s;
            margin-top: 10px;
        }
        .login-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(74, 47, 23, 0.3); }

        .login-error {
            background: #FEF2F2;
            border: 1px solid #FECACA;
            color: #991B1B;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 0.9em;
            display: none;
            text-align: center;
        }
        .login-error.visible { display: block; animation: shake 0.4s ease; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .login-footer {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid var(--border);
            text-align: center;
        }
        .login-footer p { font-size: 0.85em; color: var(--text-muted); line-height: 1.6; }
        .login-footer a { color: var(--primary); text-decoration: none; }

        /* EXPIRED OVERLAY */
        .expired-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #7F1D1D 0%, #991B1B 50%, #B91C1C 100%);
            z-index: 10001;
            display: none;
            align-items: center;
            justify-content: center;
        }
        .expired-overlay.visible { display: flex; }

        .expired-container {
            background: white;
            border-radius: 16px;
            padding: 50px 45px;
            width: 100%;
            max-width: 440px;
            margin: 20px;
            text-align: center;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
        }
        .expired-icon { font-size: 4em; margin-bottom: 20px; }
        .expired-container h2 { font-family: var(--font-display); font-size: 1.8em; color: #991B1B; margin-bottom: 15px; }
        .expired-container p { color: var(--text-secondary); margin-bottom: 10px; }
        .expired-date { font-weight: 600; color: #991B1B; }
        .expired-contact { margin-top: 25px; padding-top: 20px; border-top: 1px solid var(--border); }
        .expired-contact a { color: var(--primary); text-decoration: none; font-weight: 500; }

        /* NAVIGATION */
        .nav-bar {
            background: var(--gradient-hero);
            padding: 0 30px;
            position: fixed;
            top: 0; width: 100%;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);
        }
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
            text-decoration: none;
            font-family: var(--font-display);
            font-size: 1.25em;
            font-weight: 500;
        }
        .nav-brand-icon { font-size: 1.4em; }
        .nav-right { display: flex; align-items: center; gap: 25px; }
        .nav-user { color: rgba(255, 255, 255, 0.9); font-size: 0.9em; display: flex; align-items: center; gap: 8px; }
        .logout-btn {
            padding: 8px 18px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background 0.3s;
            font-family: var(--font-body);
        }
        .logout-btn:hover { background: rgba(255, 255, 255, 0.25); }

        /* HERO */
        .hero {
            background: var(--gradient-hero);
            color: white;
            padding: 140px 30px 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
        }
        .hero-content { position: relative; z-index: 1; max-width: 800px; margin: 0 auto; }
        .hero-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.85em;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .hero h1 {
            font-family: var(--font-display);
            font-size: 3.2em;
            font-weight: 400;
            margin-bottom: 20px;
            letter-spacing: -0.02em;
            line-height: 1.2;
            text-shadow: 0 2px 20px rgba(0, 0, 0, 0.2);
        }
        .hero-subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            font-weight: 300;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        .welcome-message {
            margin-top: 30px;
            padding: 20px 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: inline-block;
            backdrop-filter: blur(10px);
        }
        .welcome-message span { font-weight: 500; }

        /* CONTAINER */
        .container { max-width: 1200px; margin: 0 auto; padding: 60px 30px; }
        .section-header { text-align: center; margin-bottom: 50px; }
        .section-header h2 {
            font-family: var(--font-display);
            font-size: 2em;
            font-weight: 500;
            color: var(--primary);
            margin-bottom: 12px;
        }
        .section-header p { color: var(--text-secondary); font-size: 1.1em; max-width: 600px; margin: 0 auto; }

        /* MODULE GRID */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        .module-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
        }
        .module-card:hover { transform: translateY(-6px); box-shadow: var(--shadow-lg); }

        .module-header {
            padding: 30px 25px 25px;
            color: white;
            position: relative;
        }
        .module-header::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
        }

        .module-1 .module-header { background: linear-gradient(135deg, #6B4423, #8B5A2B); }
        .module-2 .module-header { background: linear-gradient(135deg, #4A6741, #5B8A4E); }
        .module-3 .module-header { background: linear-gradient(135deg, #4A5568, #718096); }
        .module-4 .module-header { background: linear-gradient(135deg, #744210, #975A16); }
        .module-5 .module-header { background: linear-gradient(135deg, #2D3748, #4A5568); }

        .module-number {
            font-size: 0.85em;
            opacity: 0.85;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        .module-header h3 {
            font-family: var(--font-display);
            font-size: 1.4em;
            font-weight: 500;
            margin: 0;
            line-height: 1.3;
        }
        .module-body {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .module-description {
            color: var(--text-secondary);
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        .module-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid var(--border);
            font-size: 0.85em;
            color: var(--text-muted);
        }
        .module-duration { display: flex; align-items: center; gap: 6px; }
        .module-start { color: var(--primary); font-weight: 600; display: flex; align-items: center; gap: 4px; }

        /* INFO GRID */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 50px;
        }
        .info-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow-sm);
        }
        .info-card h4 {
            font-family: var(--font-display);
            font-size: 1.15em;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .info-card p, .info-card li { color: var(--text-secondary); font-size: 0.95em; line-height: 1.7; }
        .info-card ul { list-style: none; padding: 0; }
        .info-card li { padding: 6px 0; padding-left: 20px; position: relative; }
        .info-card li::before { content: '‚Üí'; position: absolute; left: 0; color: var(--accent); }

        /* FOOTER */
        footer {
            background: var(--primary-dark);
            color: white;
            padding: 50px 30px;
            text-align: center;
        }
        .footer-content { max-width: 600px; margin: 0 auto; }
        .footer-logo { font-size: 2em; margin-bottom: 15px; }
        footer h4 { font-family: var(--font-display); font-size: 1.3em; font-weight: 400; margin-bottom: 8px; }
        footer p { opacity: 0.8; font-size: 0.95em; margin-bottom: 5px; }
        footer a { color: var(--sand); text-decoration: none; }
        footer a:hover { text-decoration: underline; }
        .footer-copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.85em;
            opacity: 0.7;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .nav-bar { padding: 0 20px; height: 60px; }
            .nav-brand { font-size: 1.1em; }
            .nav-user { display: none; }
            .hero { padding: 120px 20px 60px; }
            .hero h1 { font-size: 2.2em; }
            .hero-subtitle { font-size: 1em; }
            .container { padding: 40px 20px; }
            .modules-grid { grid-template-columns: 1fr; }
            .login-container { padding: 35px 25px; }
            .section-header h2 { font-size: 1.6em; }
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <!-- LOGIN OVERLAY -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <div class="login-header">
                <span class="login-icon">ü™®</span>
                <h1>Sedimentary Petrology</h1>
                <p>Interactive Learning Platform ¬∑ MSc Level</p>
            </div>
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="email">MS Teams Email</label>
                    <input type="email" id="email" name="email" placeholder="your.teams.id@fauad.fau.de" required>
                    <small style="color: var(--text-muted); font-size: 0.8em; margin-top: 4px;">Use your Microsoft Teams credentials</small>
                </div>
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required>
                </div>
                <div class="login-error" id="loginError">
                    Email not recognized. Please use your MS Teams email (@fauad.fau.de).
                </div>
                <button type="submit" class="login-btn">Access Course Materials</button>
            </form>
            <div class="login-footer">
                <p>
                    <strong>GeoZentrum Nordbayern</strong><br>
                    Friedrich-Alexander-Universit√§t Erlangen-N√ºrnberg<br>
                    Contact: <a href="mailto:luca.caracciolo@fau.de">PD Dr. Luca Caracciolo</a>
                </p>
            </div>
        </div>
    </div>

    <!-- EXPIRED OVERLAY -->
    <div class="expired-overlay" id="expiredOverlay">
        <div class="expired-container">
            <div class="expired-icon">‚è∞</div>
            <h2>Access Expired</h2>
            <p>Your access to this course has expired on:</p>
            <p class="expired-date" id="expiredDate">--</p>
            <p>Please contact your instructor for extension.</p>
            <div class="expired-contact">
                <p>Course Instructor:<br>
                <a href="mailto:luca.caracciolo@fau.de">PD Dr. Luca Caracciolo</a></p>
            </div>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav class="nav-bar">
        <a href="index.html" class="nav-brand">
            <span class="nav-brand-icon">ü™®</span>
            <span>Sedimentary Petrology</span>
        </a>
        <div class="nav-right">
            <span class="nav-user" id="navUser">
                üë§ <span id="navUserName">Student</span>
            </span>
            <button class="logout-btn" id="logoutBtn">Logout</button>
        </div>
    </nav>

    <!-- HERO -->
    <header class="hero">
        <div class="hero-content">
            <div class="hero-badge">üìö MSc Course ¬∑ Sandstone Petrography (AS I)</div>
            <h1>Sedimentary Petrology</h1>
            <p class="hero-subtitle">
                Explore the composition, provenance, and diagenesis of siliciclastic sediments through interactive modules and self-assessment quizzes.
            </p>
            <div class="welcome-message" id="welcomeMessage">
                Welcome back, <span id="welcomeName">Student</span>!
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="container">
        <div class="section-header">
            <h2>Course Modules</h2>
            <p>Progress through five comprehensive modules covering the fundamentals of sedimentary petrology and provenance analysis.</p>
        </div>

        <div class="modules-grid">
            <a href="module1_tectonics.html" class="module-card module-1">
                <div class="module-header">
                    <div class="module-number">Module 1</div>
                    <h3>Tectonic Controls on Sand Composition</h3>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        Explore the Dickinson-Suczek framework linking plate tectonic settings to sandstone composition. Understand how continental blocks, magmatic arcs, and recycled orogens produce distinctive detrital signatures.
                    </p>
                    <div class="module-meta">
                        <span class="module-duration">‚è±Ô∏è ~45 min</span>
                        <span class="module-start">Start Module ‚Üí</span>
                    </div>
                </div>
            </a>

            <a href="module2_weathering.html" class="module-card module-2">
                <div class="module-header">
                    <div class="module-number">Module 2</div>
                    <h3>Weathering &amp; Sand Generation</h3>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        Investigate chemical and mechanical weathering processes that modify sediment composition. Examine the Sand Generation Index (SGI), climate controls, and the critical role of relief in sediment production.
                    </p>
                    <div class="module-meta">
                        <span class="module-duration">‚è±Ô∏è ~50 min</span>
                        <span class="module-start">Start Module ‚Üí</span>
                    </div>
                </div>
            </a>

            <a href="module3_lithology.html" class="module-card module-3">
                <div class="module-header">
                    <div class="module-number">Module 3</div>
                    <h3>Lithology &amp; Framework Grains</h3>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        Master the identification and classification of framework grains: quartz varieties, feldspars, and lithic fragments. Apply the Gazzi-Dickinson counting method and understand the Metamorphic Index (MI).
                    </p>
                    <div class="module-meta">
                        <span class="module-duration">‚è±Ô∏è ~55 min</span>
                        <span class="module-start">Start Module ‚Üí</span>
                    </div>
                </div>
            </a>

            <a href="module4_transport.html" class="module-card module-4">
                <div class="module-header">
                    <div class="module-number">Module 4</div>
                    <h3>Sediment Transport</h3>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        Understand the physics of sediment transport, hydraulic sorting, and grain-size evolution from source to sink. Critically evaluate the "Maturity Myth" and learn about temporary storage effects.
                    </p>
                    <div class="module-meta">
                        <span class="module-duration">‚è±Ô∏è ~50 min</span>
                        <span class="module-start">Start Module ‚Üí</span>
                    </div>
                </div>
            </a>

            <a href="module5_diagenesis.html" class="module-card module-5">
                <div class="module-header">
                    <div class="module-number">Module 5</div>
                    <h3>Diagenesis</h3>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        Explore how burial processes modify original sediment composition. Study compaction, cementation, dissolution, and their effects on porosity and provenance signal preservation.
                    </p>
                    <div class="module-meta">
                        <span class="module-duration">‚è±Ô∏è ~45 min</span>
                        <span class="module-start">Start Module ‚Üí</span>
                    </div>
                </div>
            </a>
        </div>

        <!-- RESOURCES SECTION -->
        <div class="section-header" style="margin-top: 60px;">
            <h2>Reference Materials</h2>
            <p>Supplementary resources for laboratory work and mineral identification.</p>
        </div>

        <div class="modules-grid" style="grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));">
            <a href="minerals/index.html" class="module-card" style="border-left-color: #D97706;">
                <div class="module-header" style="background: linear-gradient(135deg, #D97706 0%, #FBBF24 100%);">
                    <div class="module-number">Reference</div>
                    <h3>üî¨ Mineral Data Sheets</h3>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        Bilingual (EN/DE) reference sheets for optical microscopy identification. Covers 13 minerals: framework grains (QFL), micas, ZTR suite, and accessory minerals with optical properties, occurrence, stability, and recognition criteria.
                    </p>
                    <div class="module-meta">
                        <span class="module-duration">ü™® 13 Minerals</span>
                        <span class="module-start">Open Reference ‚Üí</span>
                    </div>
                </div>
            </a>
        </div>

        <div class="info-grid">
            <div class="info-card">
                <h4>üìñ Learning Approach</h4>
                <p>Each module combines theoretical foundations with practical applications. Self-assessment quizzes reinforce key concepts, and essay questions develop critical thinking about provenance interpretation.</p>
            </div>
            <div class="info-card">
                <h4>üéØ Key Topics</h4>
                <ul>
                    <li>QFL and QmFLt ternary diagrams</li>
                    <li>Provenance vs. modification signals</li>
                    <li>Framework grain classification</li>
                    <li>Source-to-sink integration</li>
                    <li>Diagenetic pathways and porosity</li>
                </ul>
            </div>
            <div class="info-card">
                <h4>üìö Key References</h4>
                <ul>
                    <li>Dickinson &amp; Suczek (1979)</li>
                    <li>Garzanti (2016, 2017, 2019)</li>
                    <li>Caracciolo et al. (2020, 2021)</li>
                    <li>Ingersoll et al. (1984)</li>
                    <li>Weltje (1997)</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">üèõÔ∏è</div>
            <h4>GeoZentrum Nordbayern</h4>
            <p>Friedrich-Alexander-Universit√§t Erlangen-N√ºrnberg</p>
            <p>Course Instructor: <a href="mailto:luca.caracciolo@fau.de">PD Dr. Luca Caracciolo</a></p>
            <div class="footer-copyright">
                ¬© 2025 GeoZentrum Nordbayern, FAU Erlangen-N√ºrnberg
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT -->
    <script>
        // ========================================
        // CONFIGURATION - UPDATE THESE VALUES
        // ========================================
        const STUDENT_EMAILS = [
            'jo85maxy@fauad.fau.de',
            'ke77vahy@fauad.fau.de',
            'yz39ogyw@fauad.fau.de',
            'ji15vixi@fauad.fau.de',
            'as10ezaf@fauad.fau.de',
            'ug20upul@fauad.fau.de',
            'uf74yhof@fauad.fau.de',
            'et44imog@fauad.fau.de',
            'it70inix@fauad.fau.de',
            'ro61teba@fauad.fau.de',
            'ip81usac@fauad.fau.de',
            'ot03ohow@fauad.fau.de',
            'aq06etuv@fauad.fau.de'
        ];

        const INSTRUCTOR_EMAILS = [
            'luca.caracciolo@fau.de',
            'stefan.liedel@fau.de'
        ];

        const EXPIRATION_DATE = new Date('2026-02-15T23:59:59');

        // ========================================
        // AUTHENTICATION LOGIC
        // ========================================
        const loginOverlay = document.getElementById('loginOverlay');
        const expiredOverlay = document.getElementById('expiredOverlay');
        const loginForm = document.getElementById('loginForm');
        const loginError = document.getElementById('loginError');
        const logoutBtn = document.getElementById('logoutBtn');

        function checkSession() {
            const session = localStorage.getItem('sedpetro_session');
            if (session) {
                const userData = JSON.parse(session);
                if (userData.isInstructor) {
                    showContent(userData.name);
                    return;
                }
                if (new Date() > EXPIRATION_DATE) {
                    showExpired();
                    return;
                }
                showContent(userData.name);
            }
        }

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value.toLowerCase().trim();
            const name = document.getElementById('fullName').value.trim();

            if (INSTRUCTOR_EMAILS.includes(email)) {
                const session = { email, name, isInstructor: true, loginTime: new Date().toISOString() };
                localStorage.setItem('sedpetro_session', JSON.stringify(session));
                showContent(name);
                return;
            }

            if (STUDENT_EMAILS.includes(email)) {
                if (new Date() > EXPIRATION_DATE) {
                    showExpired();
                    return;
                }
                const session = { email, name, isInstructor: false, loginTime: new Date().toISOString() };
                localStorage.setItem('sedpetro_session', JSON.stringify(session));
                showContent(name);
                return;
            }

            loginError.classList.add('visible');
            setTimeout(() => loginError.classList.remove('visible'), 5000);
        });

        function showContent(name) {
            loginOverlay.classList.add('hidden');
            document.getElementById('navUserName').textContent = name;
            document.getElementById('welcomeName').textContent = name;
        }

        function showExpired() {
            loginOverlay.classList.add('hidden');
            expiredOverlay.classList.add('visible');
            document.getElementById('expiredDate').textContent = EXPIRATION_DATE.toLocaleDateString('en-US', {
                year: 'numeric', month: 'long', day: 'numeric'
            });
        }

        logoutBtn.addEventListener('click', function() {
            localStorage.removeItem('sedpetro_session');
            location.reload();
        });

        // Initialize on page load
        checkSession();
    </script>
</body>
</html>