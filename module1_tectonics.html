<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1: Tectonic Controls | Sedimentary Petrology</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500;600&family=Source+Sans+3:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6B4423; --primary-light: #8B5A2B; --primary-dark: #4A2F17;
            --secondary: #A0522D; --accent: #CD853F; --sand: #DEB887;
            --cream: #FAF6F1; --warm-white: #FFFDF9;
            --text-primary: #2C1810; --text-secondary: #5C4033; --text-muted: #8B7355;
            --border: #E8DDD0;
            --gradient-hero: linear-gradient(135deg, #4A2F17 0%, #6B4423 40%, #8B5A2B 100%);
            --shadow-sm: 0 2px 8px rgba(74, 47, 23, 0.08);
            --shadow-md: 0 4px 20px rgba(74, 47, 23, 0.12);
            --font-display: 'Crimson Pro', Georgia, serif;
            --font-body: 'Source Sans 3', -apple-system, sans-serif;
            --success: #059669; --error: #DC2626;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: var(--font-body); background: var(--cream); color: var(--text-primary); line-height: 1.7; }

        .nav-bar { background: var(--gradient-hero); padding: 0 30px; position: fixed; top: 0; width: 100%; z-index: 1000; display: flex; justify-content: space-between; align-items: center; height: 70px; box-shadow: 0 2px 20px rgba(0,0,0,0.15); }
        .nav-brand { display: flex; align-items: center; gap: 12px; color: white; text-decoration: none; font-family: var(--font-display); font-size: 1.25em; font-weight: 500; }
        .nav-links { display: flex; gap: 8px; }
        .nav-links a { color: rgba(255,255,255,0.85); text-decoration: none; padding: 8px 14px; border-radius: 6px; font-size: 0.9em; transition: all 0.3s; }
        .nav-links a:hover { background: rgba(255,255,255,0.15); color: white; }
        .nav-links a.active { background: rgba(255,255,255,0.2); color: white; font-weight: 600; }

        .hero { background: linear-gradient(135deg, #6B4423, #8B5A2B); color: white; padding: 120px 30px 60px; text-align: center; }
        .hero-content { max-width: 800px; margin: 0 auto; }
        .hero-badge { display: inline-block; background: rgba(255,255,255,0.15); padding: 6px 16px; border-radius: 50px; font-size: 0.85em; margin-bottom: 20px; }
        .hero h1 { font-family: var(--font-display); font-size: 2.8em; font-weight: 400; margin-bottom: 15px; }
        .hero-subtitle { font-size: 1.15em; opacity: 0.9; font-weight: 300; }

        .container { max-width: 900px; margin: 0 auto; padding: 50px 30px; }

        .objectives { background: white; border-radius: 12px; padding: 30px; margin-bottom: 40px; box-shadow: var(--shadow-md); border-left: 5px solid var(--primary); }
        .objectives h2 { font-family: var(--font-display); color: var(--primary); font-size: 1.4em; margin-bottom: 20px; }
        .objectives ul { list-style: none; }
        .objectives li { padding: 8px 0; padding-left: 28px; position: relative; color: var(--text-secondary); }
        .objectives li::before { content: '‚úì'; position: absolute; left: 0; color: var(--success); font-weight: bold; }

        .section { background: white; border-radius: 12px; padding: 35px; margin-bottom: 30px; box-shadow: var(--shadow-sm); }
        .section h2 { font-family: var(--font-display); color: var(--primary-dark); font-size: 1.5em; margin-bottom: 20px; padding-bottom: 12px; border-bottom: 2px solid var(--border); }
        .section h3 { font-family: var(--font-display); color: var(--primary); font-size: 1.2em; margin: 25px 0 15px; }
        .section p { margin-bottom: 15px; color: var(--text-secondary); }

        .key-concept { background: linear-gradient(135deg, #FDF8F3, #FAF0E6); border-left: 4px solid var(--accent); padding: 20px 25px; border-radius: 0 8px 8px 0; margin: 25px 0; }
        .key-concept h4 { color: var(--primary-dark); font-size: 1em; margin-bottom: 10px; }
        .key-concept p { margin: 0; font-size: 0.95em; }

        .warning-box { background: #FEF9E7; border-left: 4px solid #F39C12; padding: 20px 25px; border-radius: 0 8px 8px 0; margin: 25px 0; }
        .warning-box h4 { color: #9A7B4F; font-size: 1em; margin-bottom: 10px; }

        .table-wrapper { overflow-x: auto; margin: 20px 0; }
        .classification-table { width: 100%; border-collapse: collapse; font-size: 0.95em; }
        .classification-table th { background: var(--primary); color: white; padding: 14px 16px; text-align: left; font-weight: 500; }
        .classification-table td { padding: 12px 16px; border-bottom: 1px solid var(--border); vertical-align: top; }
        .classification-table tr:nth-child(even) { background: #FAF8F5; }
        .classification-table tr:hover { background: #FDF5E6; }

        .key-points { background: linear-gradient(135deg, #F8F6F3, #FAF8F5); border: 2px solid var(--border); }
        .key-points h2 { border-bottom-color: var(--accent); }
        .key-points ul { list-style: none; }
        .key-points li { padding: 10px 0; padding-left: 25px; position: relative; border-bottom: 1px dashed var(--border); }
        .key-points li:last-child { border-bottom: none; }
        .key-points li::before { content: '‚Üí'; position: absolute; left: 0; color: var(--accent); font-weight: bold; }

        .quiz-section { background: white; }
        .start-quiz-btn { display: inline-block; padding: 14px 35px; background: var(--gradient-hero); color: white; border: none; border-radius: 8px; font-size: 1.05em; font-weight: 600; cursor: pointer; transition: all 0.3s; font-family: var(--font-body); }
        .start-quiz-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(74, 47, 23, 0.25); }

        .quiz-card { background: var(--cream); border-radius: 12px; padding: 30px; margin-top: 20px; }
        .quiz-progress { margin-bottom: 25px; }
        .progress-text { font-size: 0.9em; color: var(--text-muted); margin-bottom: 8px; }
        .progress-bar { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); transition: width 0.3s; }
        .question-text { font-size: 1.15em; color: var(--text-primary); margin-bottom: 25px; line-height: 1.6; }
        .option-btn { display: flex; align-items: flex-start; width: 100%; padding: 16px 20px; margin-bottom: 12px; border: 2px solid var(--border); border-radius: 10px; background: white; cursor: pointer; transition: all 0.2s; text-align: left; font-family: var(--font-body); font-size: 1em; }
        .option-btn:hover:not(:disabled) { border-color: var(--primary); background: #FDF8F3; }
        .option-btn.correct { border-color: var(--success); background: #ECFDF5; }
        .option-btn.incorrect { border-color: var(--error); background: #FEF2F2; }
        .option-btn:disabled { cursor: default; }
        .option-letter { display: inline-flex; align-items: center; justify-content: center; min-width: 28px; height: 28px; border-radius: 50%; background: var(--primary); color: white; font-weight: 600; font-size: 0.85em; margin-right: 15px; flex-shrink: 0; }
        .option-text { flex: 1; line-height: 1.5; }
        .feedback-box { display: none; margin-top: 20px; padding: 20px; border-radius: 10px; }
        .correct-feedback { background: #ECFDF5; border-left: 4px solid var(--success); }
        .incorrect-feedback { background: #FEF2F2; border-left: 4px solid var(--error); }
        .feedback-box strong { display: block; margin-bottom: 8px; }
        .quiz-navigation { display: flex; justify-content: space-between; margin-top: 25px; gap: 15px; }
        .quiz-nav-btn { padding: 12px 25px; border: none; border-radius: 8px; background: var(--primary); color: white; cursor: pointer; font-size: 1em; font-family: var(--font-body); transition: all 0.2s; }
        .quiz-nav-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .quiz-nav-btn:hover:not(:disabled) { background: var(--primary-dark); }
        .results-card { text-align: center; padding: 40px; }
        .results-emoji { font-size: 4em; margin-bottom: 15px; }
        .results-card h3 { font-family: var(--font-display); font-size: 1.8em; color: var(--primary); margin-bottom: 20px; }
        .score-display { font-size: 3em; margin: 15px 0; }
        .score-number { color: var(--primary); font-weight: bold; }
        .score-percentage { font-size: 1.3em; color: var(--text-muted); margin-bottom: 25px; }
        .retry-btn { padding: 14px 40px; background: var(--gradient-hero); color: white; border: none; border-radius: 10px; font-size: 1.1em; cursor: pointer; font-family: var(--font-body); }

        .module-nav { display: flex; justify-content: space-between; gap: 20px; margin-top: 40px; }
        .nav-btn { flex: 1; padding: 18px 25px; background: white; border: 2px solid var(--border); border-radius: 10px; text-decoration: none; color: var(--text-primary); font-weight: 500; text-align: center; transition: all 0.3s; }
        .nav-btn:hover { border-color: var(--primary); background: #FDF8F3; }

        footer { background: var(--primary-dark); color: white; padding: 40px 30px; text-align: center; margin-top: 50px; }
        footer h4 { font-family: var(--font-display); font-size: 1.2em; font-weight: 400; margin-bottom: 8px; }
        footer p { opacity: 0.8; font-size: 0.9em; margin-bottom: 5px; }
        footer a { color: var(--sand); text-decoration: none; }

        @media (max-width: 768px) {
            .nav-bar { padding: 0 15px; height: 60px; }
            .nav-brand { font-size: 1em; }
            .nav-links { display: none; }
            .hero { padding: 100px 20px 50px; }
            .hero h1 { font-size: 2em; }
            .container { padding: 30px 15px; }
            .section { padding: 25px 20px; }
            .module-nav { flex-direction: column; }
        }
    </style>
</head>
<body>
    <nav class="nav-bar">
        <a href="index.html" class="nav-brand"><span>ü™®</span><span>Sedimentary Petrology</span></a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="module1_tectonics.html" class="active">Module 1</a>
            <a href="module2_weathering.html">Module 2</a>
            <a href="module3_lithology.html">Module 3</a>
            <a href="module4_transport.html">Module 4</a>
            <a href="module5_diagenesis.html">Module 5</a>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <div class="hero-badge">üìñ Module 1 of 5 ‚Ä¢ ~45 minutes</div>
            <h1>Tectonic Controls on Sand Composition</h1>
            <p class="hero-subtitle">Understanding the Dickinson-Suczek framework and its evolution toward dynamic provenance analysis</p>
        </div>
    </header>

    <main class="container">
        <div class="objectives">
            <h2>üéØ Learning Objectives</h2>
            <ul>
                <li>Explain the foundational concepts of the Dickinson-Suczek provenance model</li>
                <li>Identify the three primary provenance types: Continental Block, Magmatic Arc, and Recycled Orogen</li>
                <li>Understand the limitations of using QFL diagrams as "oracles" for tectonic setting</li>
                <li>Apply the dynamic provenance model with unroofing trends</li>
                <li>Recognize the upgraded six-provenance model proposed by Garzanti (2016)</li>
            </ul>
        </div>

        <section class="section">
            <h2>1. Historical Context: From Krynine to Dickinson</h2>
            <p>The origin of sedimentary petrology dates back to the late 19th century with the invention of thin-section petrography by H.C. Sorby. Provenance studies flourished in the first half of the 20th century when P.D. Krynine became the first strong advocate of tectonic control on sandstone composition.</p>
            <p>Krynine (1948) envisaged the continental crust as consisting of three layers: sediments on top, metamorphic rocks and veins next, and plutonic igneous rocks at depth. With increasing tectonic activity and/or time, successively deeper layers are brought to the surface, yielding in succession "quartzite," lithic-rich "graywacke," and feldspar-rich "arkose."</p>
            <div class="key-concept">
                <h4>üîë Key Concept: The Plate-Tectonic Revolution</h4>
                <p>Major progress came with Dickinson (1970), who established operational rules to improve reproducibility of detrital modes and showed how to connect them with paleogeodynamic scenarios. The new paradigm: "detrital modes of sandstone suites primarily reflect the different tectonic settings of provenance terranes" (Dickinson, 1985).</p>
            </div>
        </section>

        <section class="section">
            <h2>2. The Classic Dickinson Model</h2>
            <p>The Dickinson model identifies three primary provenance categories based on QFL (Quartz-Feldspar-Lithics) detrital modes:</p>
            <div class="table-wrapper">
                <table class="classification-table">
                    <thead><tr><th>Provenance Type</th><th>Characteristics</th><th>QFL Signature</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Continental Block</strong></td><td>Stable cratons, rifted margins, uplifted basement</td><td>High Q, variable F, low L</td></tr>
                        <tr><td><strong>Magmatic Arc</strong></td><td>Undissected to dissected volcanic/plutonic arcs</td><td>Low Q, high F, high volcanic L</td></tr>
                        <tr><td><strong>Recycled Orogen</strong></td><td>Fold-thrust belts, collision zones, subduction complexes</td><td>Variable Q, low F, high sedimentary/metamorphic L</td></tr>
                    </tbody>
                </table>
            </div>
            <h3>Subprovenances Within Continental Block</h3>
            <p>Dickinson and Suczek (1979) subdivided continental block provenance into:</p>
            <ul style="margin-left: 20px; color: var(--text-secondary);">
                <li style="margin-bottom: 8px;"><strong>Craton Interior:</strong> Quartzose sand with low P/F ratio</li>
                <li style="margin-bottom: 8px;"><strong>Transitional Continental:</strong> More lithic sand from incompletely stripped supracrustal rocks</li>
                <li style="margin-bottom: 8px;"><strong>Basement Uplift:</strong> Quartzo-feldspathic sand from exposed crystalline basement</li>
            </ul>
            <div class="warning-box">
                <h4>‚ö†Ô∏è Critical Limitation</h4>
                <p>Weltje (2006) demonstrated that QFL diagrams can distinguish provenance types with only 64‚Äì78% success rate. The model cannot be used blindly as an "oracle."</p>
            </div>
        </section>

        <section class="section">
            <h2>3. Limitations of the Static Model</h2>
            <p>Several fundamental problems exist with using QFL diagrams to infer tectonic settings:</p>
            <h3>Inability to Discriminate Age and Origin</h3>
            <p>Sandstone petrography alone cannot tell us the age of source rocks or whether they are allochthonous or autochthonous. Orogenic and anorogenic provenances therefore can hardly be discriminated.</p>
            <div class="key-concept">
                <h4>üîë Key Insight: The Nile Example</h4>
                <p>Main Nile sediments overlap all three of Dickinson's provenance subdivisions depending on grain size: silty levees plot in magmatic arc field, fine bar sands in recycled orogen field, and medium bar sands in continental block field.</p>
            </div>
            <h3>Overlooked Settings and Sources</h3>
            <p>The classic model neglects: compositional modifications during the sedimentary cycle, rift-related settings and anorogenic volcanism, ophiolitic sources, and carbonate rock fragments.</p>
        </section>

        <section class="section">
            <h2>4. From Static to Dynamic Provenance Analysis</h2>
            <p>The key to advancing beyond the classic model lies in considering the evolution of source areas in time‚Äîexamining the stratigraphic record for traces of eroding source terranes within changing paleogeographic scenarios.</p>
            <h3>Unroofing Trends</h3>
            <p>Source regions are multilayer systems progressively eroded. <strong>Unroofing trends</strong> describe how sediment composition changes as erosion cuts deeper into the source terrane.</p>
            <div class="table-wrapper">
                <table class="classification-table">
                    <thead><tr><th>Source Type</th><th>Undissected Stage</th><th>Dissected Stage</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Magmatic Arc</strong></td><td>Feldspatho-lithic volcaniclastic, pyroxene-rich</td><td>Quartzo-feldspathic plutoniclastic, hornblende-rich</td></tr>
                        <tr><td><strong>Continental Block</strong></td><td>Quartzose to litho-quartzose (platform covers)</td><td>Quartzo-feldspathic (basement exposure)</td></tr>
                        <tr><td><strong>Ophiolite</strong></td><td>Serpentinite-rich ultramaficlastic</td><td>Gabbro/basalt-derived maficlastic</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="key-concept">
                <h4>üîë The Upgraded Model (Garzanti, 2016)</h4>
                <p>Six primary provenance types: <strong>Continental Block, Magmatic Arc, Ophiolite, Axial Belt, Anorogenic Volcanic, and Recycled Clastic</strong>‚Äîaddressing rift-related settings, anorogenic volcanism, ophiolitic allochthons, and recycling.</p>
            </div>
        </section>

        <section class="section">
            <h2>5. Primary Orogenic Provenances</h2>
            <p>Orogens result from juxtaposition and superposition of tectonic domains in subparallel linear belts. Five primary building blocks:</p>
            <div class="table-wrapper">
                <table class="classification-table">
                    <thead><tr><th>Provenance</th><th>Source Rocks</th><th>Diagnostic Features</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Magmatic Arc</strong></td><td>Volcanic covers, tonalitic batholiths</td><td>Volcanic lithics (lathwork/microlitic textures), pyroxenes ‚Üí hornblende with unroofing</td></tr>
                        <tr><td><strong>Ophiolite</strong></td><td>Oceanic crust, mantle peridotite</td><td>Serpentinite, basalt, gabbro fragments; Cr-spinel, olivine</td></tr>
                        <tr><td><strong>Axial Belt</strong></td><td>Neometamorphic collision zone rocks</td><td>Metamorphic lithics, increasing MI with unroofing</td></tr>
                        <tr><td><strong>Continental Block</strong></td><td>Accreted rifted margin remnants</td><td>Basement-derived Q + F, variable metamorphic grade</td></tr>
                        <tr><td><strong>Recycled Clastic</strong></td><td>Accreted clastic wedges, uplifted turbidites</td><td>Sedimentary lithics, mature heavy mineral suites</td></tr>
                    </tbody>
                </table>
            </div>
            <p>The key information lies in rock fragments‚Äîa quick glance at the microscope discriminates main provenance types.</p>
        </section>

        <section class="section key-points">
            <h2>üìå Key Points Summary</h2>
            <ul>
                <li>Dickinson-Suczek model (1979) linked sandstone composition to plate tectonic settings via QFL diagrams</li>
                <li>Three classic provenances: Continental Block, Magmatic Arc, Recycled Orogen</li>
                <li>QFL diagrams discriminate provenances with only 64‚Äì78% success rate‚Äînot oracles!</li>
                <li>Grain-size sorting can shift apparent provenance across all three fields</li>
                <li>Dynamic provenance analysis tracks unroofing trends through time</li>
                <li>Upgraded model includes six provenances (Garzanti, 2016)</li>
                <li>Rock fragments provide the most robust key to provenance diagnosis</li>
                <li>Always consider source evolution, mixing, and modification during the sedimentary cycle</li>
            </ul>
        </section>

        <section class="section quiz-section">
            <h2>üéØ Self-Assessment Quiz</h2>
            <p>Test your understanding of tectonic controls on sand composition.</p>
            <button onclick="startQuiz()" class="start-quiz-btn">Start Quiz</button>
            <div id="quiz-container"></div>
        </section>

        <div class="module-nav">
            <a href="index.html" class="nav-btn">‚Üê Back to Home</a>
            <a href="module2_weathering.html" class="nav-btn">Next: Weathering & Sand Generation ‚Üí</a>
        </div>
    </main>

    <footer>
        <h4>GeoZentrum Nordbayern</h4>
        <p>Friedrich-Alexander-Universit√§t Erlangen-N√ºrnberg</p>
        <p>Course Instructor: <a href="mailto:luca.caracciolo@fau.de">PD Dr. Luca Caracciolo</a></p>
    </footer>

    <script>
        const quizQuestions = [
            { question: "According to the Dickinson-Suczek model, which provenance type is characterized by high quartz content from stable cratonic regions?", options: ["Magmatic Arc", "Continental Block", "Recycled Orogen", "Ophiolite"], correct: 1, explanation: "Continental Block provenance produces quartzose to quartzo-feldspathic sands from stable cratons, rifted margins, and uplifted basement regions." },
            { question: "What was Weltje's (2006) finding regarding the success rate of QFL plots in discriminating provenance types?", options: ["95-100% success", "80-90% success", "64-78% success", "Less than 50%"], correct: 2, explanation: "Weltje showed QFL diagrams distinguish provenance types with only 64-78% success rate‚Äîthey cannot be used as infallible oracles." },
            { question: "In the Nile River example, what causes the same sediment to plot in different QFL provenance fields?", options: ["Different source rocks", "Grain size variations", "Diagenetic alteration", "Chemical weathering"], correct: 1, explanation: "Grain-size sorting causes Main Nile sediments to overlap all three provenance fields depending on whether samples are silty levees, fine sands, or medium sands." },
            { question: "What is the concept of 'unroofing trends' in dynamic provenance analysis?", options: ["Weathering of grains during transport", "Progressive compositional change as erosion cuts deeper into source terranes", "Mixing of sediments from multiple sources", "Diagenetic modification of detrital modes"], correct: 1, explanation: "Unroofing trends describe systematic compositional changes as erosion progressively exposes deeper tectonostratigraphic levels." },
            { question: "During unroofing of a magmatic arc, what compositional change occurs?", options: ["Increase in volcanic lithics and pyroxenes", "Increase in sedimentary lithics", "Transition from volcaniclastic to plutoniclastic sand with more hornblende", "Increase in metamorphic lithics"], correct: 2, explanation: "Arc unroofing produces transition from feldspatho-lithic volcaniclastic sand rich in pyroxenes (undissected) to quartzo-feldspathic plutoniclastic sand rich in hornblende (dissected)." },
            { question: "How many primary provenance types does Garzanti's (2016) upgraded model include?", options: ["Three", "Four", "Five", "Six"], correct: 3, explanation: "The upgraded model includes six provenances: Continental Block, Magmatic Arc, Ophiolite, Axial Belt, Anorogenic Volcanic, and Recycled Clastic." },
            { question: "Which aspect was NOT adequately addressed by the original Dickinson model?", options: ["Magmatic arc settings", "Rift-related settings and anorogenic volcanism", "Foreland basin sedimentation", "Subduction complex sources"], correct: 1, explanation: "The Dickinson model neglected rift-related settings, anorogenic volcanism, ophiolitic sources, and carbonate rock fragments." },
            { question: "According to Garzanti (2016), what provides the most robust key to provenance diagnosis?", options: ["Heavy mineral assemblages", "QFL ratios", "Rock fragments (texture and composition)", "Geochemical signatures"], correct: 2, explanation: "The most robust key lies in the mineralogical and textural spectrum of rock fragments‚Äîa quick microscope glance discriminates main provenance types." },
            { question: "What type of orogen develops from west-directed subduction?", options: ["Himalayan-type collision orogen", "Andean-type cordillera", "Apennine-type thin-skinned belt", "Indo-Burman subduction complex"], correct: 2, explanation: "West-directed subduction produces thin-skinned, low-relief orogens like the Apennines; east-directed produces thick-skinned, high-relief, doubly-vergent orogens." },
            { question: "Why can recycled clastic provenance occur in both anorogenic and orogenic settings?", options: ["Unique recycled mineralogy", "Detrital modes cannot distinguish autochthonous from allochthonous sources", "Recycling only occurs during rifting", "Recycled sediments always plot in one QFL field"], correct: 1, explanation: "Recycled clastic provenance is common to both settings because petrography alone cannot discriminate autochthonous from allochthonous continental crust, and recycling occurs along both divergent and convergent margins." }
        ];
        let currentQuestion = 0, score = 0, answered = false;
        function startQuiz() { document.querySelector('.start-quiz-btn').style.display = 'none'; currentQuestion = 0; score = 0; answered = false; loadQuestion(); }
        function loadQuestion() {
            const q = quizQuestions[currentQuestion];
            document.getElementById('quiz-container').innerHTML = `<div class="quiz-card"><div class="quiz-progress"><div class="progress-text">Question ${currentQuestion + 1} of ${quizQuestions.length}</div><div class="progress-bar"><div class="progress-fill" style="width: ${((currentQuestion + 1) / quizQuestions.length) * 100}%"></div></div></div><div class="question-text">${q.question}</div><div class="options-container">${q.options.map((opt, i) => `<button class="option-btn" onclick="selectAnswer(${i})" id="option-${i}"><span class="option-letter">${String.fromCharCode(65 + i)}</span><span class="option-text">${opt}</span></button>`).join('')}</div><div id="feedback" class="feedback-box"></div><div class="quiz-navigation"><button onclick="previousQuestion()" class="quiz-nav-btn" ${currentQuestion === 0 ? 'disabled' : ''}>‚Üê Previous</button><button onclick="nextQuestion()" class="quiz-nav-btn" id="next-btn" disabled>${currentQuestion === quizQuestions.length - 1 ? 'See Results' : 'Next ‚Üí'}</button></div></div>`;
        }
        function selectAnswer(index) {
            if (answered) return; answered = true;
            const q = quizQuestions[currentQuestion], isCorrect = index === q.correct;
            if (isCorrect) score++;
            document.getElementById(`option-${index}`).classList.add(isCorrect ? 'correct' : 'incorrect');
            if (!isCorrect) document.getElementById(`option-${q.correct}`).classList.add('correct');
            document.querySelectorAll('.option-btn').forEach(btn => btn.disabled = true);
            const feedback = document.getElementById('feedback');
            feedback.innerHTML = `<div class="${isCorrect ? 'correct-feedback' : 'incorrect-feedback'}"><strong>${isCorrect ? '‚úì Correct!' : '‚úó Incorrect'}</strong><p>${q.explanation}</p></div>`;
            feedback.style.display = 'block';
            document.getElementById('next-btn').disabled = false;
        }
        function nextQuestion() { if (currentQuestion < quizQuestions.length - 1) { currentQuestion++; answered = false; loadQuestion(); } else { showResults(); } }
        function previousQuestion() { if (currentQuestion > 0) { currentQuestion--; answered = false; loadQuestion(); } }
        function showResults() {
            const percentage = Math.round((score / quizQuestions.length) * 100);
            let message, emoji;
            if (percentage >= 90) { message = 'Outstanding!'; emoji = 'üåü'; }
            else if (percentage >= 75) { message = 'Great work!'; emoji = 'üëè'; }
            else if (percentage >= 60) { message = 'Good effort!'; emoji = 'üëç'; }
            else { message = 'Keep studying!'; emoji = 'üìö'; }
            document.getElementById('quiz-container').innerHTML = `<div class="quiz-card results-card"><div class="results-emoji">${emoji}</div><h3>${message}</h3><div class="score-display"><span class="score-number">${score}</span> / ${quizQuestions.length}</div><div class="score-percentage">${percentage}%</div><button onclick="startQuiz()" class="retry-btn">Try Again</button></div>`;
        }
    </script>
</body>
</html>
